services:
  app:
    build:
      context: .
      args:
        USER_ID: ${USER_ID}
        GROUP_ID: ${GROUP_ID}
    image: dev-env-container
    container_name: ${CONTAINER_NAME} 
    init: true
    volumes:
      # Use an absolute path if this compose file is in a fixed location, 
      # or '.' if it stays in the project root.
      - ${APP_SOURCE}:/app
    stdin_open: true
    tty: true
    deploy:
      resources:
        limits:
          cpus: '2.0'
          memory: 2G
        reservations:
          memory: 512M
    network_mode: bridge
    restart: always

